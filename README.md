# Модуль управления кредитными лимитами — Internal CRM

Прототип интерфейса для внутренних сотрудников банка: просмотр/редактирование заявок на изменение кредитного лимита с сохранением сессионной истории действий.

## Запуск

```bash
npm install
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`.

## Стек технологий

| Категория          | Решение                     |
|--------------------|-----------------------------|
| Framework          | React 19 + TypeScript       |
| Сборщик            | Vite 6                      |
| State Management   | Zustand 5                   |
| API                | Mock (Promise + setTimeout) |
| Стили              | Vanilla CSS (custom tokens) |

## Архитектурные решения

### Zustand

Выбран **Zustand** как библиотека управления состоянием по следующим причинам:

1. **Минимальный бойлерплейт** — в отличие от Redux Toolkit, не требует слайсов, редьюсеров и action creators. Стор описывается одним вызовом `create()`.
2. **TypeScript first** — типы выводятся автоматически, без дополнительных утилит.
3. **Селекторы из коробки** — подписка компонентов на конкретные слайсы состояния без `reselect`.
4. **Отсутствие провайдера** — не нужно оборачивать дерево в `<Provider>`, что упрощает архитектуру.
5. **Маленький размер** — ~1 KB gzipped.

### Кастомные хуки

Бизнес-логика вынесена из компонентов в переиспользуемые хуки:

- **`useFilter`** — фильтрация таблицы по статусу.
- **`useDebounceSearch`** — поиск по ФИО с debounce 300 мс.
- **`useValidation`** — валидация лимита (0–10 000 000 ₽), условная обязательность поля «Причина» при лимите > 1 000 000 ₽, динамический список причин.
- **`useChangeLogger`** — сравнение оригинальных и изменённых данных, создание записей в лог.

### Структура проекта

```
src/
├── api/          # Имитация API (fetchApplications, updateApplication)
├── components/   # React-компоненты (Table, Modal, Filter, Search, Log, Badge)
├── hooks/        # Кастомные хуки (фильтрация, поиск, валидация, лог)
├── store/        # Zustand-хранилище
├── types/        # TypeScript-типы и константы
├── utils/        # Утилиты (маскирование счёта, форматирование)
├── App.tsx       # Корневой компонент
├── main.tsx      # Точка входа
└── index.css     # Стили (dark theme, glassmorphism, анимации)
```

## Функциональность

- **Таблица заявок** — с фильтрацией по статусу и поиском по ФИО (debounce).
- **Модальное окно** — редактирование лимита с маскированием счёта, зависимыми полями и валидацией.
- **Журнал изменений** — сессионная история всех действий пользователя.
- **Обработка состояний** — индикаторы загрузки и обработка ошибок API.
